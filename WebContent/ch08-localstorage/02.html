<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>로컬스토리지 : 개인화 서비스</title>
<script type="text/javascript" src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
<script type="text/javascript">
$(document).ready(function(){
	//이벤트연결
	$('form#frm').submit(function(event){
		//기본이벤트제거
		event.preventDefault(); // 필수!!
		
		save_setting();
		
	});
	
});
//설정정보읽기
function load_setting(){
	var bgcolor = localStorage.getItem('bg_color');
	var textcolor = localStorage.getItem('text_color');
	var textsize = localStorage.getItem('text_size');
	
	$('#bg_color').val(bgcolor);
	$('#text_color').val(textcolor);
	$('#text_size').val(textsize);
	
	//스타일반영
	apply_data();
}
//설정정보저장하기
function save_setting(){
	localStorage.setItem('bg_color', $('#bg_color').val());
	localStorage.setItem('text_color', $('#text_color').val());
	localStorage.setItem('text_size', $('#text_size').val());
	
	//스타일반영
	apply_data();
}
//설정정보반영
function apply_data(){
	$('body').css('background',$('#bg_color').val());
	$('body').css('color',$('#text_color').val());
	$('body').css('font_size',$('#text_size').val());
}
</script>
</head>
<body>
<h2>환경 설정 값 기억</h2>
<form id="frm">
	<fieldset id="colors">
		<legend>색상/글 크기 선택</legend>
		<ul>
			<li>
				<label for="bg_color">배경색</label>
				<input type="text" name="bg_color" id="bg_color">
			</li>
			<li>
				<label for="text_color">글자색</label>
				<input type="text" name="text_color" id="text_color">
			</li>
			<li>
				<label for="text_size">글자크기</label>
				<select name="text_size" id="text_size">
					<option value="16px">16px</option>
					<option value="20px">20px</option>
					<option value="24px">24px</option>
				</select>				
			</li>
		</ul>
		<input type="submit" value="저장">
	</fieldset>
</form>
</body>
</html>